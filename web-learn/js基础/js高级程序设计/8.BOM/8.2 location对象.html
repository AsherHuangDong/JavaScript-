<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>location 对象</title>
</head>

<body>
  <h2>location 对象提供了与当前窗口中加载的文档有关的信息，还提供了一些导航功能。</h2>
  <p>location 对象既是 window 对象的属性，也是 document 对象的属性，因此 window.location 与 document.location 引用的是同一个对象</p>
  <h3>location 对象属性</h3>
  <ul>
    <li>hash: 返回 URL 中的hash(#后面跟零或多个字符)，如果 URL 中不包含散列，则返回空字符串</li>
    <li>host: 返回服务器名称和端口号(如果有)</li>
    <li>hostname: 返回不带端口号的服务器名称</li>
    <li>href: 返回当前加载页面的完整 URL。而 location 对象的 toString() 方法也返回这个值</li>
    <li>pathname: 返回 URL 中的目录和文件名</li>
    <li>port: 返回 URL 中指定改的端口号。如果 URL 中不包含端口号，则这个属性返回空字符串</li>
    <li>protocol: 返回页面使用的协议，通常是 http: 或 https:</li>
    <li>search: 返回 URL 的查询字符串。这个字符串以问号开头</li>
  </ul>
  <strong>注意: 每次修改 location 属性(hash 除外)，页面都会以 新 URL 重新加载</strong>
  <h3>位置操作</h3>
  <ul>
    <li>location.assign('http://www.wrox.com')</li>
    <li>location.href = 'http://www.wrox.com'</li>
    <li>window.location = 'http://www.wrox.com'</li>
    <li>location.repalce('http://www.wrox.com')</li>
    <li>location.reload(): 从缓存重新加载</li>
    <li>location.reload(true): 从服务器重新加载</li>
  </ul>
  <script>
    // 1. 查询字符串参数
    function getQueryStringArgs() {
      let qs = (location.search.length > 0 ? location.search.substring(1) : ''),
        args = {},
        items = qs.length ? qs.split('&') : [],
        item = null,
        name = null,
        value = null,
        i = 0,
        len = items.length
      for (i = 0; i < len; i++) {
        item = items[i].split('=')
        name = decodeURIComponent(item[0])
        value = decodeURIComponent(item[1])
        if (name.length) {
          args[name] = value
        }
      }
      return args
    }
    // setTimeout(() => {
    //   location.replace('http://www.wrox.com')
    // }, 1000)
    // 2. 位置操作，一下三种方法是等效的
    // location.assign('http://www.wrox.com')
    // window.location = 'http://www.wrox.com'
    // location.href = 'http://www.wrox.com?q=javascript'

    // function Location() {
    //   // location.href = 'http://www.wrox.com/'
    //   // location.hash = '#section1'
    //   location.search = '?q=javascript'
    //   // location.hostname = 'www.yahoo.com'
    //   // location.pathname = 'mydir'
    //   // location.port = 8080
    // }
    // location.reload()
    // location.reload(true)
  </script>
</body>

</html>